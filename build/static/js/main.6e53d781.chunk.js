(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{49:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},61:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(22),i=c.n(r),s=(c(49),c(6)),l=(c(53),c(4)),o=c(11),u=(c(54),c.p+"static/media/pump.a88a94a5.jpeg"),j=c(0);function d(){return Object(j.jsxs)("div",{className:"backgroundland",children:[Object(j.jsx)("img",{className:"backimg",src:u,alt:"back"}),Object(j.jsx)("div",{className:"foodspi",children:Object(j.jsx)("h3",{children:"'Foods' Project"})}),Object(j.jsx)("div",{className:"buttonstartdiv",children:Object(j.jsx)(o.b,{to:"/home",id:"start",children:Object(j.jsx)("button",{className:"starting",children:"Show me recipes!"})})})]})}var b=c(12);c(61);function h(e){var t;return Object(j.jsx)("div",{className:"ext",children:Object(j.jsxs)("div",{className:"recipesCard",children:[" ",Object(j.jsx)("p",{className:"titleRecipe",children:e.title}),Object(j.jsx)("p",{className:"summaryRecipe",children:e.summary}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{className:"healthScoreRecipe",children:e.healthScore})}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{className:"dietsRecipe",children:e.diets})}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{className:"typeDiet",children:void 0!==e.Diets&&(null===(t=e.Diets)||void 0===t?void 0:t.map((function(e){return e.name})))})}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{className:"instructionsRecipe",children:e.instructions})}),Object(j.jsx)("div",{id:"recipeimg",children:Object(j.jsx)("img",{className:"imageRecipe",src:e.image,alt:"Imagen no disponible"})})]})})}var p=c(13),O=c(16),m=c(17),f=c.n(m),v="GET_RECIPES",x="GET_DIETS",g="GET_RECIPE_DETAIL",y="CREATE_RECIPE",N="FILTER_BY_DIET",S="SORT_HEALTHSCORE",C="ALPHABET",D="GET_RECIPE_NAME";c(84).config();Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_ENDPOINT;var E=function(){return function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://foodapi-l1xc.onrender.com/recipes");case 2:return c=e.sent,e.abrupt("return",t({type:v,payload:c.data}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=function(){return function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://foodapi-l1xc.onrender.com/diets");case 2:return c=e.sent,e.abrupt("return",t({type:x,payload:c.data}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};c(87);function w(e){var t=e.setPage,c=Object(s.b)(),a=Object(n.useState)(),r=Object(b.a)(a,2),i=r[0],l=r[1];Object(s.c)((function(e){return e.totalRecipes}));function o(e){var n;e.preventDefault(),c((n=i,function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://foodapi-l1xc.onrender.com?title=".concat(n));case 2:return c=e.sent,e.abrupt("return",t({type:D,payload:c.data}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t(1)}return Object(j.jsx)("form",{children:Object(j.jsxs)("div",{className:"search",children:[Object(j.jsx)("input",{className:"inputsearch",type:"text",placeholder:"Search...",onChange:function(e){return function(e){e.preventDefault(),l(e.target.value)}(e)}}),Object(j.jsx)("button",{type:"submit",className:"buttonsearch",onClick:function(e){return o(e)},children:"Search"}),Object(j.jsx)("input",{className:"res",type:"reset",value:"Reset"})]})})}c(88);function T(e){var t=e.setPage,c=Object(s.b)(),r=Object(s.c)((function(e){return e.totalDiets})),i=a.a.useState(),l=Object(b.a)(i,2),o=l[0],u=l[1];function d(e){e.preventDefault(),o&&c({type:N,payload:o}),t(1)}return Object(n.useEffect)((function(){c(R())}),[c]),Object(j.jsxs)("div",{className:"dietfilter",children:[Object(j.jsxs)("select",{id:"filtdiets",onChange:function(e){return function(e){e.preventDefault(),u(e.target.value)}(e)},children:[" ",Object(j.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Select an Option"})," ",r.length&&r.map((function(e){return Object(j.jsx)("option",{children:e.name},e.id)}))," "]}),Object(j.jsx)("button",{className:"selectDiet",onClick:function(e){return d(e)},children:"Search"})]})}c(89);function k(e){for(var t=e.recipesPage,c=e.recipesState,n=e.paged,a=[],r=1;r<=Math.ceil(c/t);r++)a.push(r);return Object(j.jsx)("div",{children:a.length<=1?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)("nav",{className:"nav",children:Object(j.jsx)("ul",{children:null===a||void 0===a?void 0:a.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)("button",{className:"numberpages",onClick:function(){return n(e)},children:e})},e)}))})})})}c(90);var _=1;function I(){var e,t=Object(s.b)(),c=Object(s.c)((function(e){return e.totalRecipes}));console.log(c);var a,r=Object(n.useState)(1),i=Object(b.a)(r,2),l=i[0],u=i[1],d=Object(n.useState)(9),p=Object(b.a)(d,2),O=p[0],m=(p[1],Object(n.useState)("")),f=Object(b.a)(m,2),v=(f[0],f[1]),x=l*O,g=x-O;"string"===typeof(a=c.slice(g,x))&&(a="Could not find recipes \u274c"),0===a.length&&(a="Could not find recipes");function y(e){var c;e.preventDefault(),t((c=e.target.value,{type:S,payload:c})),u(1)}function N(e){var c;e.preventDefault(),t((c=e.target.value,{type:C,payload:c})),u(1),v("Order ".concat(e.target.value))}return Object(n.useEffect)((function(){t(E())}),[t]),Object(j.jsxs)("div",{className:"all",children:[Object(j.jsxs)("div",{className:"navbar",children:[Object(j.jsx)("div",{className:"searchHome",children:Object(j.jsxs)("div",{className:"filters",children:[Object(j.jsx)(w,{setPage:u,children:" "})," ",Object(j.jsx)(T,{setPage:u})]})}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)("button",{className:"b",value:"MaxtoMin",onClick:function(e){return y(e)},children:"From Max to Min"}),Object(j.jsx)("button",{className:"b",value:"MinToMax",onClick:function(e){return y(e)},children:"From Min to Max"}),Object(j.jsxs)("button",{className:"b",value:"AZ",onClick:function(e){return N(e)},children:["Sort from A to Z"," "]}),Object(j.jsx)("button",{className:"b",value:"ZA",onClick:function(e){return N(e)},children:"Sort from Z to A"}),Object(j.jsxs)(o.b,{to:"/create",children:[" ",Object(j.jsx)("button",{className:"create",id:"c",children:"Create recipe"})," "]})," ",Object(j.jsx)("div",{id:"c",children:Object(j.jsx)("button",{className:"refresh",onClick:function(e){e.preventDefault(),t(E()),u(1),v("Order ".concat(e.target.value))},children:"Delete filters"})})]}),Object(j.jsx)("div",{className:"morebut"})]}),Object(j.jsx)("div",{className:"paginationBack",children:Object(j.jsx)(k,{recipesPage:O,recipesState:c.length,paged:function(e){u(e)}})}),Object(j.jsx)("div",{className:"cards",children:"object"===typeof a?null===(e=a)||void 0===e?void 0:e.map((function(e){var t,c;return Object(j.jsxs)("div",{children:[" ",Object(j.jsxs)(o.b,{to:"/detail/".concat(e.id),children:[" ",Object(j.jsx)(h,{image:e.image,title:e.title,diets:null===(t=e.diets)||void 0===t?void 0:t.map((function(e){return e+" \ud83e\udd51 "})),Diets:null===(c=e.Diets)||void 0===c?void 0:c.map((function(e){return e})),id:e.id},_++)]})]})})):Object(j.jsx)("h2",{children:a})})]})}var L=c(20),P=c(2);c(91),c.p;function A(){var e,t=Object(s.b)(),c=Object(s.c)((function(e){return e.totalDiets}));Object(n.useEffect)((function(){t(R())}),[t]);var a=Object(n.useState)({title:"",summary:"",healthScore:"",instructions:"",image:"",diets:[]}),r=Object(b.a)(a,2),i=r[0],l=r[1],u=Object(n.useState)({}),d=Object(b.a)(u,2),h=d[0],m=d[1],v=function(e){e.preventDefault(),l(Object(P.a)(Object(P.a)({},i),{},Object(L.a)({},e.target.name,e.target.value))),m(function(e){var t={};e.title||(t.title="Recipe name can not be empty");/(?!^\s+$)^.*$/m.test(e.title)&&/^[a-zA-Z\xc0-\xff\u00f1\u00d1]+(\s*[a-zA-Z\xc0-\xff\u00f1\u00d1]*)*[a-zA-Z\xc0-\xff\u00f1\u00d1]+$/.test(e.title)||(t.title="Recipe must start with letter and cant contain special caracters");e.summary||(t.summary="Recipe summary can not be empty");e.healthScore||(t.healthScore="Recipe must have healthscore");(e.healthScore>100||e.healthScore<0||e.healthScore.includes("e")||e.healthScore.includes(",")||e.healthScore.includes("."))&&(t.healthScore="Healthscore must be an integer lower than 100 and higher than 0");/^https?:\/\/.+\.(jpg|jpeg|png|webp|avif|gif|svg)$/.test(e.image)||(t.image="Image must be a valid URL");return t}(Object(P.a)(Object(P.a)({},i),{},Object(L.a)({},e.target.name,e.target.value)))),console.log(h)},x=function(e){var c;e.preventDefault(),Object.values(h).length>0?alert("Complete information correctly"):""===i.title&&""===i.summary?alert("Recipe must have title and summary"):(t((c=i,function(){var e=Object(O.a)(Object(p.a)().mark((function e(t){var n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("https://foodapi-l1xc.onrender.com/recipes/create",c);case 2:return n=e.sent,e.abrupt("return",{type:y,res:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),alert("recipe created!"),l({title:"",summary:"",healthScore:"",instructions:"",image:"",diets:[]}))},g=function(e){i.diets.includes(e.target.value)?alert("You cant add the same diet twice"):l(Object(P.a)(Object(P.a)({},i),{},{diets:i.diets.concat(e.target.value)}))};return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"buttonhome",children:Object(j.jsx)(o.b,{to:"/home",children:"Home"})}),Object(j.jsx)("div",{id:"createrecipe",children:Object(j.jsx)("h2",{className:"new",children:"Create a Recipe: "})}),Object(j.jsx)("div",{className:"f",children:Object(j.jsxs)("form",{id:"createform",onSubmit:function(e){return x(e)},children:[Object(j.jsx)("label",{id:"lab",children:"Title"}),Object(j.jsxs)("div",{className:"title",children:[Object(j.jsx)("input",{id:"create",type:"text",name:"title",value:i.title,onChange:function(e){return v(e)},className:h.title}),!!h.title&&Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("small",{children:h.title})]})]}),Object(j.jsxs)("div",{className:"summary",children:[Object(j.jsx)("label",{id:"lab",children:"Summary"}),Object(j.jsx)("input",{id:"create",type:"text",name:"summary",value:i.summary,onChange:function(e){return v(e)},className:h.summary}),!!h.summary&&Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("small",{children:h.summary})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{id:"lab",children:"HealthScore"}),Object(j.jsx)("input",{id:"create",type:"number",name:"healthScore",value:i.healthScore,onChange:function(e){return v(e)},className:h.healthScore}),!!h.healthScore&&Object(j.jsxs)("p",{children:[" ",Object(j.jsx)("small",{children:h.healthScore})]})]}),Object(j.jsxs)("div",{className:"intscreate",children:[Object(j.jsx)("label",{id:"lab",children:"Instructions"}),Object(j.jsx)("input",{id:"create",type:"text",name:"instructions",value:i.instructions,onChange:function(e){return v(e)}})]}),Object(j.jsxs)("div",{className:"imagecreate",children:[Object(j.jsx)("label",{id:"lab",children:"Image"}),Object(j.jsx)("input",{id:"create",type:"text",name:"image",value:i.image,onChange:function(e){return v(e)}}),!!h.image&&Object(j.jsx)("p",{children:Object(j.jsx)("small",{children:h.image})})]}),Object(j.jsx)("label",{id:"lab",children:"Select diets:"}),Object(j.jsxs)("div",{className:"dietscreate",children:[Object(j.jsx)("select",{id:"newlab",onChange:function(e){return g(e)},children:c.map((function(e){return Object(j.jsx)("option",{onClick:function(e){return g(e)},value:e.name,children:e.name},e.id)}))}),Object(j.jsx)("ul",{children:null===(e=i.diets)||void 0===e?void 0:e.map((function(e){return Object(j.jsxs)("li",{children:[e," ",Object(j.jsx)("button",{value:e,onClick:function(e){return function(e){e.preventDefault(),l(Object(P.a)(Object(P.a)({},i),{},{diets:i.diets.filter((function(t){return t!==e.target.value}))}))}(e)},children:"X"})]})}))})]}),Object(j.jsx)("input",{className:"buttoncreate",type:"submit",name:"Submit"})]})})]})}c(92);function M(e){var t,c=Object(s.b)(),a=Object(s.c)((function(e){return e.recipeDetail})),r=e.match.params.id;return console.log(a),Object(n.useEffect)((function(){var e;return c((e=r,function(){var t=Object(O.a)(Object(p.a)().mark((function t(c){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://foodapi-l1xc.onrender.com/recipes/".concat(e));case 2:return n=t.sent,t.abrupt("return",c({type:g,payload:n.data}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),c({type:"DELETE"})}),[c,r]),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"box",children:[Object(j.jsxs)("div",{className:"boxnav",children:[Object(j.jsx)("div",{className:"subtitle",children:Object(j.jsx)("p",{children:"Recipe Detail"})}),Object(j.jsx)(o.b,{to:"/home",children:Object(j.jsx)("button",{className:"home",children:"Home"})})]}),Object(j.jsx)("p",{className:"titleRecipe",children:a.title}),Object(j.jsxs)("div",{className:"contdiv",children:[Object(j.jsx)("img",{className:"imageDetail",src:a.image,alt:"Imagen no disponible"}),Object(j.jsx)("p",{className:"summaryRecipe",children:null===(t=a.summary)||void 0===t?void 0:t.replace(/<[^>]*>?/gm,"")})]}),Object(j.jsxs)("div",{className:"contdivhealth",children:[Object(j.jsx)("p",{className:"dietsRecipe",children:a.diets&&a.diets.map((function(e){return e+", "}))}),Object(j.jsxs)("p",{className:"healthscore",children:["Health Score: ",a.healthScore]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("p",{className:"instruct",children:"Instructions"})}),Object(j.jsx)("p",{className:"typeDiet",children:a.Diets&&a.Diets.map((function(e){return e.name+", "}))})]}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{className:"instructionsRecipe",children:a.instructions})}),Object(j.jsxs)("div",{children:[" ",Object(j.jsx)("p",{children:a.dishTypes})]})]})})}var H=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)(l.a,{exact:!0,path:"/",children:[" ",Object(j.jsx)(d,{})," "]}),Object(j.jsxs)(l.a,{path:"/home",children:[" ",Object(j.jsx)(I,{}),"  "]}),Object(j.jsxs)(l.a,{path:"/create",children:[" ",Object(j.jsx)(A,{})," "]}),Object(j.jsx)(l.a,{path:"/detail/:id",component:M})]})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,94)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))},Z=c(24),B=c(44),G=c(43),W=c(30),$={recipes:[],totalRecipes:[],totalDiets:[],recipeDetail:[]};var z=Object(Z.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(P.a)(Object(P.a)({},e),{},{totalRecipes:t.payload,recipes:t.payload});case x:return Object(P.a)(Object(P.a)({},e),{},{totalDiets:t.payload});case D:return Object(P.a)(Object(P.a)({},e),{},{totalRecipes:t.payload,recipes:t.payload});case y:return Object(P.a)({},e);case N:var c,n,a=e.recipes;c="object"===typeof a?a.filter((function(e){var c;return null===(c=e.diets)||void 0===c?void 0:c.some((function(e){return e===t.payload}))})):[],n="object"===typeof a?a.filter((function(e){var c;return null===(c=e.Diets)||void 0===c?void 0:c.some((function(e){return e.name===t.payload}))})):[],console.log(n,"total2");var r=c.concat(n);return console.log(r),Object(P.a)(Object(P.a)({},e),{},{totalRecipes:r});case g:return Object(P.a)(Object(P.a)({},e),{},{recipeDetail:t.payload});case S:var i=Object(W.a)(e.totalRecipes);return i="MinToMax"===t.payload?i.sort((function(e,t){return e.healthScore-t.healthScore})):i.sort((function(e,t){return t.healthScore-e.healthScore})),Object(P.a)(Object(P.a)({},e),{},{totalRecipes:i});case C:var s=Object(W.a)(e.totalRecipes);return s="AZ"===t.payload?s.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:e.title.toLowerCase()<t.title.toLowerCase()?-1:0})):s.sort((function(e,t){return e.title.toLowerCase()<t.title.toLowerCase()?1:e.title.toLowerCase()>t.title.toLowerCase()?-1:0})),Object(P.a)(Object(P.a)({},e),{},{totalRecipes:s});case"DELETE":return Object(P.a)(Object(P.a)({},e),{},{recipeDetail:[]});default:return e}}),Object(G.composeWithDevTools)(Object(Z.applyMiddleware)(B.a)));i.a.render(Object(j.jsx)(s.a,{store:z,children:Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(H,{})})})}),document.getElementById("root")),F()}},[[93,1,2]]]);
//# sourceMappingURL=main.6e53d781.chunk.js.map